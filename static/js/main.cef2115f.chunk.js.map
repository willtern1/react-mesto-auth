{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","hooks/useFormAndValidation.js","components/EditProfilePopup.js","utils/Api.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectRoute.js","utils/auth.js","components/InfoTooltip.js","components/Music.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","loggedIn","headerEmail","style","height","textChange","CurrentUserContext","React","createContext","Card","user","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardDelete","type","aria-label","src","link","alt","name","onCardClick","onCardLike","Main","refreshAvatar","currentUser","avatar","about","editProfilePopup","addCardPopup","cards","map","key","length","Footer","ImagePopup","onClose","PopupWithForm","isOpen","onSubmit","title","children","buttonState","disabled","buttonText","useFormAndValidation","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","e","target","value","validationMessage","closest","checkValidity","EditProfilePopup","useEffect","preventDefault","onUpdateUser","htmlFor","placeholder","id","minLength","maxLength","required","onChange","api","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","alert","status","fetch","method","then","_checkResponse","data","body","JSON","stringify","authorization","EditAvatarPopup","onUpdateAvatar","AddPlacePopup","onUpdateCard","Login","email","password","handleSubmitAuthorize","Register","handleSubmitRegister","to","ProtectedRoute","Component","component","BASE_URL","checkRes","InfoTooltip","infoToolTipClass","infoToolTipTitle","registerPopupSubtitle","Music","musicButton","document","getElementById","addEventListener","classList","contains","musicOff","musicOn","audio","querySelector","add","volume","play","catch","remove","pause","loop","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isRegisterPopup","setRegisterPopup","setRegisterPopupSubtitle","setInfoToolTipTitle","setInfoToolTipClass","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setHeaderEmail","navigate","useNavigate","pathname","useLocation","registerPath","authorizationPath","mainPath","openRegisterPopup","closeAllPopups","handleNavigateToSingIn","singOut","localStorage","removeItem","all","getUserInfo","getCardsInfo","profileInfo","err","evt","jwt","getItem","auth","width","Provider","resolve","pathUserData","patchAvatar","postCardData","path","element","deleteLike","newCard","state","c","putLikeCard","deleteCard","list","filter","setTimeout","finally","setItem","token","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.cef2115f.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Header(props) {\n  return (\n    <header className=\"header\">\n      <h2 className=\"header__title\">Mesto</h2>\n      <p className=\"header__subtitle\">Russia</p>\n      <p className={\"header__user-auth\"}>{props.loggedIn ? props.headerEmail : ''}</p>\n      <nav className={\"header__nav\"}>\n        <ul className={\"header__list\"}>\n          <li style={{height: '20px'}}>{props.textChange()}</li>\n        </ul>\n      </nav>\n    </header>\n  )\n}\n\nexport default Header;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\n\nfunction Card(props) {\n  const user = React.useContext(CurrentUserContext);\n  //jsx карточек\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n//лайк\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  //Удаление карточки\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n//Проверка владельца карточки\n  const isOwn = props.card.owner._id === user._id;\n// удаление кнопки, в зависимости от владельца и наоборот\n  const cardDeleteButtonClassName = (\n    `element__trash-button ${isOwn ? 'element__trash-button' : 'element__trash-button_hidden'}`\n  );\n//Проверка владельца лайка\n  const isLiked = props.card.likes.some(i => i._id === user._id);\n// Удаление активного лайка,при проверки владельца и наоборот\n  const cardLikeButtonClassName = (\n    `element__button ${isLiked ? 'element__button_active' : 'element__button'}`\n)\n\n  return (\n    <article className=\"element\">\n      <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} type=\"button\" aria-label=\"element__trash-button\"/>\n      <img className=\"element__image\" src={props.link} alt={props.name} onClick={handleClick}/>\n      <div className=\"element__description\">\n        <h2 className=\"element__text\">{props.name}</h2>\n        <button onClick={handleLikeClick} aria-label=\"element__button\" type=\"button\" className={cardLikeButtonClassName}/>\n        <p className=\"element__button-likes-counter\">{props.likes}</p>\n      </div>\n    </article>\n  )\n}\n\nexport default Card\n","import React from \"react\";\nimport Card from \"./Card\";\n\n//основной jxs\nfunction Main(props) {\n\n  return (\n    <main className=\"content\">\n\n      <section aria-label=\"profile\" className=\"profile\">\n        <div className=\"profile__avatar-container\" onClick={props.refreshAvatar}/>\n        <img className=\"profile__image\" src={props.currentUser.avatar} alt={props.currentUser.name}/>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{props.currentUser.name}</h1>\n          <p className=\"profile__job\">{props.currentUser.about}</p>\n          <button aria-label=\"profile__edit-button\" type=\"button\" className=\"profile__edit-button\"\n                  onClick={props.editProfilePopup}>\n          </button>\n        </div>\n        <button aria-label=\"profile__add-card-button\" type=\"button\" className=\"profile__add-card-button\"\n                onClick={props.addCardPopup}/>\n      </section>\n\n      <section aria-label=\"elements\" className=\"elements\">\n        {props.cards.map((card) => (              // отрисовка каждой карточки с пропсами\n          <Card\n            key={card._id}\n            onCardClick={props.onCardClick}\n            card={card}\n            link={card.link}\n            name={card.name}\n            likes={card.likes.length}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}\n          />\n        ))}\n      </section>\n\n    </main>\n  )\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import React from \"react\";\n\n//jsx попапа с картинкой\nfunction ImagePopup(props) {\n  return (\n    <div className={`popup popup_type_image ${props.card.link !== '' ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container popup__container_type_image\">\n        <button className=\"popup__close-icon\" type=\"button\" onClick={props.onClose}/>\n        <form className=\"popup__form popup__form_type_image\" name=\"edit-profile-popup\">\n          <img className=\"popup__picture-image\" src={props.card ? props.card.link : \"\"}\n               alt={props.card ? props.card.name : \"\"}/>\n          <h2 className=\"popup__title-image\">{props.card ? props.card.name : \"\"}</h2>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","import React from \"react\";\n\nfunction PopupWithForm(props) { //jxs для форм с попапом\n  return (\n    <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container \">\n        <button className=\"popup__close-icon \" type=\"button\" onClick={props.onClose}/>\n        <form onSubmit={props.onSubmit} className={`popup__form popup__form_type_${props.name}`} name={`${props.name}-popup`}>\n          <h2 className=\"popup__title \">{props.title}</h2>\n          {props.children}\n          <button className={`popup__button ${ props.buttonState ? '' : `popup__button_invalid`}`} type=\"submit\"  disabled={!props.buttonState}>{props.buttonText}</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n","import {useState, useCallback} from 'react';\n\nexport default function useFormAndValidation() {\n  const [ values, setValues ] = useState({});\n  const [ errors, setErrors ] = useState({});\n  const [ isValid, setIsValid ] = useState(true);\n\n  const handleChange = (e) => {\n    const {name, value} = e.target\n    setValues({...values, [name]: value });\n    setErrors({...errors, [name]: e.target.validationMessage});\n    setIsValid(e.target.closest('form').checkValidity());\n  };\n\n\n\n  const resetForm = useCallback((newValues = {}, newErrors = {}, newIsValid = false) => {\n    setValues(newValues);\n    setErrors(newErrors);\n    setIsValid(newIsValid);\n  }, [setValues, setErrors, setIsValid]);\n\n  return { values, handleChange, errors, isValid, resetForm, setValues, setIsValid };\n}\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport useFormAndValidation from \"../hooks/useFormAndValidation\";\n\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const {values, handleChange, errors, isValid, setValues, resetForm} = useFormAndValidation();\n\n  React.useEffect(() => {\n    resetForm()\n    if (props.isOpen) {\n      setValues({\n        name: currentUser.name,\n        about: currentUser.about\n      })\n    }\n  }, [props.isOpen, currentUser, setValues, resetForm])\n\n//Сабмит новых значений профиля\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateUser({\n      name: values.name,\n      about: values.about\n    });\n  }\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      name={'edit-profile'}\n      buttonText={'Сохранить'}\n      buttonState={isValid}\n      title={'Редактировать профиль'}\n    >\n      <label htmlFor=\"name\"/><input className={` popup__input ${isValid.name ? '' : `popup__input_type_error`  }popup__input_element_name `} type=\"text\"\n                                    value={values.name || \"\"} placeholder=\"Введите имя\" id=\"name\" name=\"name\"\n                                    minLength=\"2\" maxLength=\"40\" required onChange={handleChange}/>\n      <span id=\"name-error\" className={`popup__error${isValid.name ? '' : `_visible`}`}>\n        {isValid.name ? '' : errors.name}\n      </span>\n      <label htmlFor=\"about\"/><input className={` popup__input ${isValid.about ? '' : `popup__input_type_error`  }popup__input_element_job `} type=\"text\"\n                                     value={values.about || \"\"} placeholder=\"Введите профессию\" id=\"about\" name=\"about\"\n                                     minLength=\"2\" maxLength=\"200\" required\n                                     onChange={handleChange}/>\n      <span id=\"about-error\" className={`popup__error${isValid.about ? '' : `_visible`}`}>\n        {isValid.about ? '' : errors.about}\n      </span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return  Promise.reject(alert(`ААААААААААААШИБКА: ${res.status}`))\n}\n\n//Добываем юзер данные из ссылки\ngetUserInfo() {\n    return fetch(\n      `${this._url}/users/me`,\n      {method: 'GET',\n        headers: this._headers}\n    ).then((res) => {\n      return this._checkResponse(res)\n    })\n}\n//Добываем карточки из ссылки\ngetCardsInfo() {\n    return fetch(\n      `${this._url}/cards`,\n      {method: 'GET',\n        headers: this._headers}\n    ).then((res) => {\n      return this._checkResponse(res)\n    })\n}\n\n//изменения профиля\npathUserData(data) {\n    return fetch(\n      `${this._url}/users/me`,\n      {method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify({\n          name: data.name,\n          about: data.about\n        })}\n      ).then((res) => {\n        return this._checkResponse(res)\n    })\n}\n\n//отправка новой карточки\npostCardData(data) {\n    return fetch(\n      `${this._url}/cards`,\n      {method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })}\n      ).then((res) => {\n        return this._checkResponse(res)\n    })\n}\n\n//удаление карточки\n  deleteCard(data) {\n    return fetch(\n      `${this._url}/cards/${data._id}`,\n      {method: 'DELETE',\n      headers: this._headers,}\n      ).then((res) => {\n        return this._checkResponse(res)\n    })\n}\n// отправка лайк\nputLikeCard(id) {\n    return fetch(\n      `${this._url}/cards/likes/${id}`,\n      {method: 'PUT',\n      headers: this._headers}\n    ).then((res) => {\n      return this._checkResponse(res)\n    })\n}\n// удаление лайка\ndeleteLike(id) {\n  return fetch(\n    `${this._url}/cards/likes/${id}`,\n    {method: 'DELETE',\n      headers: this._headers}\n  ).then((res) => {\n    return this._checkResponse(res)\n  })\n}\n\npatchAvatar(data) {\n    return fetch(\n      `${this._url}/users/me/avatar`,\n      {method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar,\n      })}).then((res) => {\n        return this._checkResponse(res)\n    })\n}\n}\n\nconst api = new Api ({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-29\",\n  headers: {\n    authorization: \"10765781-c34f-49ea-91c2-5a34ebcb851f\",\n    \"content-type\": \"application/json\"\n  }\n})\n\nexport  default  api;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nimport useFormAndValidation from \"../hooks/useFormAndValidation\";\n\n\nfunction EditAvatarPopup(props) {\n  const {values, handleChange, errors, isValid, setValues, resetForm} = useFormAndValidation();\n\n  React.useEffect(() => {\n    if (props.isOpen) {\n      setValues({\n        avatar: ''\n      })\n      resetForm()\n    }\n  }, [props.isOpen, setValues, resetForm])\n\n//сабмит  атватара\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: values.avatar\n    });\n  }\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      name={'add-avatar'}\n      buttonText={'Сохранить'}\n      buttonState={isValid}\n      title={' Обновить аватар'}\n    >\n      <label htmlFor=\"avatar-link\"/><input onChange={handleChange}\n                                           className={` popup__input ${isValid.avatar ? '' : `popup__input_type_error`} popup__input_avatar_link`}\n                                           type=\"url\"\n                                           value={values.avatar || \"\"} placeholder=\"Ссылка на аватар\" id=\"avatar-link\"\n                                           name=\"avatar\" required/>\n      <span id=\"avatar-link-error\" className={`popup__error${isValid.avatar ? '' : `_visible`}`}>\n        {isValid.avatar ? '' : errors.avatar}\n      </span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nimport useFormAndValidation from \"../hooks/useFormAndValidation\";\n\nfunction AddPlacePopup(props) {\n  const {values, handleChange, errors, isValid, setValues, resetForm} = useFormAndValidation();\n  // Сабмит новой карточки\n  function handleAddPlaceSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateCard({\n      name: values.name,\n      link: values.link\n    });\n  }\n\n  React.useEffect(() => {\n    if (props.isOpen) {\n      setValues({\n        name: '',\n        link: ''\n      })\n      resetForm()\n    }\n  }, [props.isOpen,setValues, resetForm])\n\n  return (\n    <PopupWithForm\n      onSubmit={handleAddPlaceSubmit}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      name={'add-place'}\n      buttonState={isValid}\n      buttonText={'Создать'}\n      title={'Новое место'}\n    >\n      <label htmlFor=\"card-name\"/><input onChange={handleChange}\n                                         className={` popup__input ${isValid.name ? '' : `popup__input_type_error`} popup__input_element_title `}\n                                         type=\"text\"\n                                         value={values.name || \"\"} placeholder=\"Название\" id=\"card-name\" name=\"name\"\n                                         minLength=\"2\" maxLength=\"30\" required/>\n      <span id=\"card-name-error\" className={`popup__error${isValid.name ? '' : `_visible`}`}>\n        {isValid.name ? '' : errors.name}\n      </span>\n      <label htmlFor=\"link\"/><input onChange={handleChange}\n                                    className={` popup__input ${isValid.link ? '' : `popup__input_type_error`} popup__input_element_link `}\n                                    type=\"url\"\n                                    value={values.link || \"\"} placeholder=\"Ссылка на картинку\" id=\"link\" name=\"link\"\n                                    required/>\n      <span id=\"link-error\" className={`popup__error${isValid.link ? '' : `_visible`}`}>\n        {isValid.link ? '' : errors.link}\n      </span>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport '../index.css'\nimport useFormAndValidation from \"../hooks/useFormAndValidation\";\n\n\nfunction Login(props) {\n  const {values, handleChange, errors, isValid, setValues, resetForm} = useFormAndValidation();\n\n  React.useEffect(() => {\n    setValues({\n      email: '',\n      password: ''\n    })\n    resetForm()\n  }, [setValues, resetForm])\n\n  function handleSubmitAuthorization(e) {\n    e.preventDefault()\n    props.handleSubmitAuthorize(values.email, values.password)\n  }\n\n  return (\n    <div className={'login-container'}>\n      <form className={'login-container__form'} onSubmit={handleSubmitAuthorization}>\n        <h2 className={'login-container__title'}>Вход</h2>\n        <label htmlFor=\"login-email\"/><input\n        className={`login-container__input ${isValid.email ? '' : `popup__input_type_error`}`} placeholder={\"Email\"}\n        type={\"email\"}\n        value={values.email || ''} id={'login-email'} name={'email'}\n        onChange={handleChange} minLength=\"6\" maxLength=\"30\" required/>\n        <span id={'login-email-error'} className={`popup__error${isValid.email ? '' : `_visible_register-error`}`}>\n          {isValid.email ? '' : errors.email}\n        </span>\n        <label htmlFor=\"login-password\"/><input\n        className={`${isValid.password ? '' : `popup__input_type_error`} login-container__input`}\n        placeholder={\"Пароль\"}\n        type={\"password\"} value={values.password || ''}\n        id={'login-password'}\n        name={'password'} onChange={handleChange} minLength=\"6\" maxLength=\"15\" required/>\n        <span id={'login-password-error'}\n              className={`popup__error${isValid.password ? '' : `_visible_register-error`}`}>\n          {isValid.password ? '' : errors.password}\n        </span>\n        <button\n          className={`login-container__button ${isValid ? '' : `register-container__button_invalid`}`}\n          disabled={!isValid} type={'submit'}>Войти\n        </button>\n      </form>\n    </div>\n  )\n}\n\nexport default Login;\n","import React from \"react\";\nimport {Link} from \"react-router-dom\";\nimport useFormAndValidation from \"../hooks/useFormAndValidation\";\n\n\nfunction Register(props) {\n  const {values, handleChange, errors, isValid, setValues, resetForm} = useFormAndValidation();\n  React.useEffect(() => {\n    setValues({\n      email: '',\n      password: ''\n    })\n    resetForm()\n  }, [setValues, resetForm])\n  function handleSubmitRegister(e) {\n    e.preventDefault()\n    props.handleSubmitRegister(values.email, values.password)\n  }\n\n  return (\n    <div className={\"register-container\"}>\n      <form className={\"register-container__form\"} onSubmit={handleSubmitRegister}>\n        <h2 className={\"register-container__title\"}>Регистрация</h2>\n        <label htmlFor=\"login-email\"/><input\n        className={`register-container__input ${isValid.email ? '' : `popup__input_type_error`}`}\n        placeholder={\"Email\"}\n        name={\"email\"} id={\"register-email\"} type={\"email\"}\n        value={values.email || \"\"} onChange={handleChange} minLength=\"6\" maxLength=\"30\" required/>\n        <span id={'register-email-error'} className={`popup__error${isValid.email ? '' : `_visible_register-error`}`}>\n          {isValid.email ? '' : errors.email}\n        </span>\n        <label htmlFor=\"register-password\"/><input\n        className={`${isValid.password ? '' : `popup__input_type_error`} register-container__input`}\n        placeholder={\"Пароль\"}\n        name={\"password\"} id={\"register-password\"} type={\"password\"}\n        value={values.password || \"\"} onChange={handleChange} minLength=\"6\" maxLength=\"15\" required/>\n        <span id={'register-password-error'} className={`popup__error${isValid.password ? '' : `_visible_register-error`}`}>\n          {isValid.password ? '' : errors.password}\n        </span>\n        <button\n          className={`register-container__button ${isValid ? '' : `register-container__button_invalid`}`}\n          disabled={!isValid} type={'submit'}>Зарегистрироваться\n        </button>\n        <p className={\"register-container__subtitle\"}>Уже заригистрирвоанны? <Link\n          className={\"register-container__link\"} to=\"/sign-in\">Войти</Link></p>\n      </form>\n    </div>\n  )\n}\n\nexport default Register;\n","import React from \"react\";\nimport {Navigate} from \"react-router-dom\";\n\nconst ProtectedRoute = ({component: Component, ...props}) => {\n  return props.loggedIn ? <Component {...props}/> : <Navigate to={'/sign-in'}/>\n}\n\nexport default ProtectedRoute;\n","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      password: password,\n      email: email\n    })\n  })\n    .then(checkRes)\n};\n\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n    .then(checkRes)\n};\n\nexport const checkToken = (jwt) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${jwt}`,\n    }\n  })\n    .then(checkRes)\n}\n\nfunction checkRes(res) {\n  if (res.ok) {\n    return res.json()\n  }\n  return Promise.reject(res.status)\n}\n","import React from \"react\";\n\nfunction InfoTooltip(props) {\n  return (\n    <div className={`popup popup_type_info-tooltip ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container popup__container_type_info-tooltip\">\n        <button className=\"popup_type_info-tooltip-close-icon\" type=\"button\" onClick={props.onClose}/>\n        <form className=\"popup__form popup__form_type_info-tooltip\" name=\"tooltip-popup\">\n          <div className=\"popup_type_info-tooltip-title-container\">\n            <h2\n              className={`popup_type_info-tooltip-title ${props.infoToolTipClass ? 'popup_type_info-tooltip-title_denied' : ''}`}>{props.infoToolTipTitle}</h2>\n          </div>\n          <div className=\"popup_type_info-tooltip-image\"/>\n          <p className={'popup_type_info-tooltip-subtitle'}>{props.registerPopupSubtitle}</p>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default InfoTooltip;\n","import React from 'react';\n\nconst Music = () => {\n  React.useEffect(() => {\n    const musicButton = document.getElementById('music-btn')\n    musicButton.addEventListener('click', () => {\n      if (musicButton.classList.contains('body__music-icon_on')) {\n        musicOff()\n      } else {\n        musicOn()\n      }\n    })\n  }, [])\n  const musicOn = () => {\n    const audio = document.querySelector('audio')\n    const musicButton = document.getElementById('music-btn');\n    musicButton.classList.add('body__music-icon_on');\n    audio.volume = 0.2;\n    audio.play().then(() => {}).catch(() => {});\n  }\n  const musicOff = () => {\n    const audio = document.querySelector('audio')\n    const musicButton = document.getElementById('music-btn')\n    musicButton.classList.remove('body__music-icon_on');\n    audio.pause()\n  }\n\n  return (\n    <div>\n      <audio id={'audio'} className=\"audio\" src='./The_Mole_320kbps.mp3' type=\"audio/mpeg\" loop/>\n      <button id={'music-btn'} className=\"body__music-icon \" type=\"button\"/>\n    </div>\n  );\n};\n\nexport default Music;\n","import '../index.css'\nimport {Routes, Route, useNavigate, useLocation, Link} from \"react-router-dom\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport React from \"react\";\nimport api from \"../utils/Api\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectRoute\";\nimport * as auth from \"../utils/auth\"\nimport InfoTooltip from \"./InfoTooltip\";\nimport Music from \"./Music\";\n\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);       //Хуки\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isRegisterPopup, setRegisterPopup] = React.useState(false)\n  const [registerPopupSubtitle, setRegisterPopupSubtitle] = React.useState('')\n  const [infoToolTipTitle, setInfoToolTipTitle] = React.useState('')\n  const [infoToolTipClass, setInfoToolTipClass] = React.useState(false)\n  const [selectedCard, setSelectedCard] = React.useState({name: '', link: ''});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [headerEmail, setHeaderEmail] = React.useState('')\n  const navigate = useNavigate();\n  const {pathname} = useLocation();\n  const registerPath = '/sign-in' === pathname;\n  const authorizationPath = '/sign-up' === pathname;\n  const mainPath = '/' === pathname;\n\n\n  //лайк\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    if (!isLiked) {\n      api.putLikeCard(card._id).then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c)))\n      }).catch((err) => alert(`Ошибченко лайка : ${err.status}`))\n    } else {\n      api.deleteLike(card._id).then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c)))\n      }).catch((err) => alert(`Ошибченко лайка : ${err.status}`))\n    }\n  }\n\n//удаление карточки\n  function handleCardDelete(card) {\n    api.deleteCard(card).then(() =>\n      setCards((list) => list.filter((c) => c._id !== card._id))\n    ).catch((err) => {\n      alert(`Ошибка удаления карточки : ${err.status}`)\n    })\n  }\n\n// хук с  промисами  которые пихаются в переменные\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getCardsInfo()]).then(([profileInfo, cards]) => {\n      setCurrentUser(profileInfo)\n      setCards(cards)\n    }).catch((err) => {\n      alert(`Ошибка загрузки данных :  ${err.status}`)\n    })\n  }, [])\n\n\n//Функции состояния  для открытия попчанских\n  function openProfilePopup() {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  function openCardAddPopup() {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  function openAvatarPopup() {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card)\n  }\n\n  function openRegisterPopup() {\n    setRegisterPopup(true)\n  }\n\n//функция закрытия попчанских\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setRegisterPopup(false)\n    setSelectedCard({name: '', link: ''})\n  }\n\n//обновоения инфо профиля в CurrentUser\n  function handleUpdateUser(data) {\n    Promise.resolve(api.pathUserData(data)).then((profileInfo) => {\n      setCurrentUser(profileInfo)\n      closeAllPopups()\n    }).catch((err) => {\n      alert(`Ошибка загрузки данных :  ${err.status}`)\n    })\n  }\n\n//обновоения ататара профиля в CurrentUser\n  function handleUpdateAvatar(data) {\n    Promise.resolve(api.patchAvatar(data)).then((avatar) => {\n      setCurrentUser(avatar)\n      closeAllPopups()\n    }).catch((err) => {\n      alert(`Ошибка обновления аватара : ${err.status}`)\n    })\n  }\n\n//обновление карточек\n  function handleUpdateCard(data) {\n    Promise.resolve(api.postCardData(data)).then((card) => {\n      setCards([card, ...cards]);\n      closeAllPopups()\n    }).catch((err) => {\n      alert(`Ошибка добавления карточки  ${err.status}`)\n    })\n  }\n\n  React.useEffect(() => {\n    document.addEventListener('keydown', (evt) => {\n      if (evt.key === 'Escape') {\n        closeAllPopups()\n      }\n    })\n  }, [])\n\n  React.useEffect(() => {\n    document.addEventListener('click', (evt) => {\n      if (evt.target.classList.contains('popup')) {\n        closeAllPopups()\n      }\n    })\n  }, [])\n\n\n  function handleSubmitAuthorize(email, password) {\n    auth.authorize(email, password).then((res) => {\n        setLoggedIn(true)\n        setHeaderEmail(email)\n        localStorage.setItem('jwt', res.token)\n    }).catch(() => {\n      setInfoToolTipClass(true)\n      setInfoToolTipTitle('ACCESS DENIED')\n      setRegisterPopupSubtitle('Неверный Email или Пароль')\n      openRegisterPopup()\n    })\n  }\n\n  function handleNavigateToSingIn() {\n    navigate('/sing-in')\n  }\n\n  function handleSubmitRegister(email, password) {\n    auth.register(email, password).then(() => {\n        setInfoToolTipClass(false)\n        setRegisterPopupSubtitle('Вы успешно зарегистрировались!')\n        setInfoToolTipTitle('ACCESS GRANTED')\n        setTimeout(closeAllPopups, 2000)\n        setTimeout(handleNavigateToSingIn, 2200)\n    }).catch(() => {\n      setInfoToolTipClass(true)\n      setRegisterPopupSubtitle('Что-то пошло не так! Попробуйте ещё раз.')\n      setInfoToolTipTitle('ACCESS DENIED')\n    }).finally(() => {\n      openRegisterPopup()\n    })\n  }\n\n  React.useEffect(() => {\n    if (loggedIn === true) {\n      navigate('/')\n    }\n  }, [loggedIn, navigate])\n\n  React.useEffect(() => {\n    const jwt = localStorage.getItem('jwt')\n    if (jwt) {\n      auth.checkToken(jwt).then((res) => {\n        if (res) {\n          setLoggedIn(true)\n          setHeaderEmail(res.data.email)\n        }\n      }).catch(err => alert(err))\n    }\n  }, [])\n\n  function singOut(e) {\n    e.preventDefault()\n    setLoggedIn(false)\n    localStorage.removeItem(\"jwt\")\n  }\n\n  function textChange() {\n    if (registerPath) {\n      return <Link className={\"header__list-link\"} to=\"/sign-up\">Регистрация</Link>\n    } else if (authorizationPath) {\n      return <Link className={\"header__list-link\"} to=\"/sign-in\">Войти</Link>\n    } else if (mainPath) {\n      return <Link className={\"header__list-link\"} onClick={singOut} to=\"/sign-in\">Выйти</Link>\n    }\n  }\n\n//jsx\n  return (\n    <div className='App' style={{width: '100%'}}>\n      <Music/>\n      <div className=\"page\">\n        <CurrentUserContext.Provider value={currentUser}>\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onUpdateCard={handleUpdateCard}/>\n          <InfoTooltip isOpen={isRegisterPopup} onClose={closeAllPopups}\n                       registerPopupSubtitle={registerPopupSubtitle} infoToolTipTitle={infoToolTipTitle}\n                       infoToolTipClass={infoToolTipClass}/>\n          <ImagePopup\n            card={selectedCard}\n            onClose={closeAllPopups}\n          >\n          </ImagePopup>\n          <Header\n            loggedIn={loggedIn}\n            headerEmail={headerEmail}\n            textChange={textChange}\n          />\n          <Routes>\n            <Route path={'/'} element={<ProtectedRoute\n              loggedIn={loggedIn}\n              editProfilePopup={openProfilePopup}\n              addCardPopup={openCardAddPopup} // Пропсы для открытия попчанских в мейне\n              refreshAvatar={openAvatarPopup}\n              onCardClick={handleCardClick}\n              cards={cards}\n              currentUser={currentUser}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n              component={Main}\n            />}/>\n            <Route path={'*'} element={<ProtectedRoute/>}/>\n            <Route path=\"/sign-up\" element={<Register handleSubmitRegister={handleSubmitRegister}/>}/>\n            <Route path=\"/sign-in\" element={<Login handleSubmitAuthorize={handleSubmitAuthorize}/>}/>\n          </Routes>\n          {loggedIn ? <Footer/> : ''}\n        </CurrentUserContext.Provider>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from \"react-router-dom\";\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App/>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}